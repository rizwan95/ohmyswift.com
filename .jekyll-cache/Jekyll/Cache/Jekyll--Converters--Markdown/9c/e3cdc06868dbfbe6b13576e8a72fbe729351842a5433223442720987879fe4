I"z;<p>Buttons are an essential element in iOS apps. If you are developing an app using UIKit, you will probably use UIButton class to create buttons. 
Creating a button is a straightforward process, but it becomes problematic when it comes to customizations. Soon you will find yourself writing hacks for achieving your desired result. We all have been there, and we have done it. You are not alone. Luckily, iOS 15.0 gives us a new method to customize Buttons much easier using UIButton.Configuration.
Let’s get started!</p>

<h2 id="configuration-types-in-uibutton">Configuration types in UIButton</h2>

<p>UIButton.Configuration comes in four different types, namely plain, filled, gray, and tinted. 
In this article, we will be focusing only on filled configuration. I will leave the rest of the configurations for you to experiment.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">var</span> <span class="nv">configuration</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span></code></pre></figure>

<h2 id="setting-a-title-in-a-uibutton">Setting a title in a UIButton</h2>

<p>Setting a title is done by using the configuration’s title property.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Start download"</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/title.png?style=centerme" alt="Setting a title in a UIButton" /></p>

<h2 id="setting-a-subtitle-in-a-uibutton">Setting a subtitle in a UIButton</h2>

<p>Again, we can make use of the configuration’s subtitle property to set a subtitle. It would be tough to set a subtitle without the configuration API.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">subtitle</span> <span class="o">=</span> <span class="s">"(Downloads a random image)"</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/subtitle.png?style=centerme" alt="Setting a subtitle in a UIButton" /></p>

<h2 id="changing-the-background-color-of-a-uibutton">Changing the background color of a UIButton</h2>

<p>The color of the UIButton’s background view can be changed using baseBackgroundColor property.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemOrange</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/background-color.png?style=centerme" alt="Changing the background color of a UIButton" /></p>

<h2 id="setting-an-attributed-title-in-a-uibutton">Setting an attributed title in a UIButton</h2>

<p>Yes, you read it right. You can set attributed titles as well using the attributedTitle property on the configuration.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">attributedTitle</span> <span class="o">=</span> <span class="kt">AttributedString</span><span class="p">(</span><span class="s">"Start download"</span><span class="p">,</span> <span class="nv">attributes</span><span class="p">:</span> <span class="kt">AttributeContainer</span><span class="p">([</span><span class="kt">NSAttributedString</span><span class="o">.</span><span class="kt">Key</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mi">252</span><span class="o">/</span><span class="mf">255.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">132.0</span><span class="o">/</span><span class="mf">255.0</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">0</span><span class="o">/</span><span class="mf">255.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)]))</span></code></pre></figure>

<p>Some of you might have noticed that I am using AttribtedString instead of NSAttributedString. Yes, from iOS 15.0, NSAttributedString has been replaced by AttributedString API. I will be writing more about it in the upcoming articles.</p>

<p><img src="/blog/assets/images/customize-uibutton-ios15/attributed.png?style=centerme" alt="Setting an attributed title in a UIButton" /></p>

<h2 id="customizing-the-background-property-of-a-uibutton">Customizing the background property of a UIButton</h2>

<p>We can easily manipulate the shape of the button by using the background property.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="o">.</span><span class="nf">listSidebarCell</span><span class="p">()</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/backgroundcust.png?style=centerme" alt="Customizing the background property of a UIButton" /></p>

<h2 id="setting-the-size-of-a-uibutton">Setting the size of a UIButton</h2>

<p>We can set the button’s size to some presets like large, medium, small, and mini.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">buttonSize</span> <span class="o">=</span> <span class="o">.</span><span class="n">large</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/button-Size.png?style=centerme" alt="Setting the size of a UIButton" /></p>

<h2 id="setting-the-content-insets-in-a-uibutton">Setting the content insets in a UIButton</h2>

<p>If we want to adjust the insets of a button, we can use the contentInsets API.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">contentInsets</span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">top</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">leading</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">bottom</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">trailing</span><span class="p">:</span> <span class="mi">20</span><span class="p">)</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/content-insets.png?style=centerme" alt="Setting the content insets in a UIButton" /></p>

<h2 id="setting-the-cornerstyle-in-a-uibutton">Setting the cornerStyle in a UIButton</h2>

<p>The cornerStyle API provides a predefined set of corner style customizations like capsule, large, medium, small, dynamic, and fixed.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">cornerStyle</span> <span class="o">=</span> <span class="o">.</span><span class="n">capsule</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/capsule.png?style=centerme" alt="Setting the cornerStyle in a UIButton" /></p>

<h2 id="setting-an-image-in-a-uibutton">Setting an image in a UIButton</h2>

<p>Adding an image to the button and customizing it has become effortless. An important point to note here is that, the image respects the language’s direction.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"arrow.down.square.fill"</span><span class="p">)</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/button-image.png?style=centerme" alt="Setting an image in a UIButton" /></p>

<h2 id="padding-between-an-image-and-a-title-in-a-uibutton">Padding between an image and a title in a UIButton</h2>

<p>The UIButton configuration makes it easy to set a padding between the image and the button’s</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/image-padding.png?style=centerme" alt="Padding between an image and a title in a UIButton" /></p>

<h2 id="changing-the-position-of-an-image-in-a-uibutton">Changing the position of an image in a UIButton</h2>

<p>The imagePlacement is my favorite property. I have written so many nasty hacks for just changing the position of the image in a UIButton, before iOS 15.0
The imagePlacement property supports the following options - leading, trailing, top, or bottom.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">trailing</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/button-image-position.png?style=centerme" alt="Changing the position of an image in a UIButton" /></p>

<h2 id="changing-the-alignment-of-the-title-in-a-uibutton">Changing the alignment of the title in a UIButton</h2>

<p>The title alignment property of the configuration API allows us to align the title as per our choice. The supported options are leading, automatic, trialing, and center.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">configuration</span><span class="o">.</span><span class="n">titleAlignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">center</span></code></pre></figure>

<p><img src="/blog/assets/images/customize-uibutton-ios15/button-title-placement.png?style=centerme" alt="Changing the alignment of the title in a UIButton" /></p>

<p>Finally, we initialize the button with the configuration and add it to a view.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">configuration</span><span class="p">,</span> <span class="nv">primaryAction</span><span class="p">:</span> <span class="kt">UIAction</span><span class="p">(</span><span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
  <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Download Button tapped!"</span><span class="p">)</span>
<span class="p">}))</span>
<span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
<span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
  <span class="n">button</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
  <span class="n">button</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="p">)</span>
<span class="p">])</span></code></pre></figure>

<p>I hope the article was informative and you got to know about the modern ways to customize a UIButton. However, I haven’t explained about UIButton.ConfigurationUpdateHandler, so I will be covering about it in a separate article.</p>

<h2 id="references">References</h2>

<p>[1] <a href="https://developer.apple.com/documentation/uikit/uibutton/configuration">https://developer.apple.com/documentation/uikit/uibutton/configuration</a></p>

<h3 id="about-the-author">About the author</h3>

<ul>
  <li><strong>Rizwan Ahmed</strong> - iOS Engineer.  Twitter - <a href="https://twitter.com/rizwanasifahmed">https://twitter.com/rizwanasifahmed</a></li>
</ul>

<h4 id="more-articles">More articles</h4>

<ul>
  <li><a href="/blog/2022/04/24/different-methods-to-remove-the-last-item-from-an-array-in-swift/">Different methods to remove the last item from an array in Swift</a></li>
  <li><a href="/blog/2021/04/14/exploring-deque-in-swift-collections/">Exploring Deque in Swift Collections</a></li>
  <li><a href="/blog/2020/08/29/replacing-uiimagepickercontroller-with-phpickerviewcontroller/">Replacing UIImagePickerController with PHPickerViewController</a></li>
  <li><a href="/blog/2020/06/14/embracing-localization-in-image-assets/">Embracing Localization in Image Assets</a></li>
  <li><a href="/blog/2020/05/19/an-effective-way-to-clear-entire-userdefaults-in-swift/">An effective way to clear entire Userdefaults in Swift</a></li>
  <li>
    <p><a href="/blog/2020/02/13/simulating-remote-push-notifications-in-a-simulator/">Simulating remote push notifications in a simulator</a></p>

    <p><strong><em>A gentle request. Show your support to indie devs by downloading their apps from the banner displayed below. It will help them in building great apps.</em></strong></p>
  </li>
</ul>

<div>
    <a class="notification sponsor" href="https://winya.link/get" target="_blank">
    <img src="https://ik.imagekit.io/cfsimagecdn/Winya/winya_512_qKON5oTjw.png" />
    <div>
    <p class="sponsor-title">
        Winya: Best screen sharing app for iPhone/iPad
    </p>
    <p>
        Become a Streamer by starting a live stream from your iPhone/iPad to Twitch/YouTube or any live streaming service of your choice. Download the app and become a creator now!</p>
    </div>
</a>
</div>
:ET