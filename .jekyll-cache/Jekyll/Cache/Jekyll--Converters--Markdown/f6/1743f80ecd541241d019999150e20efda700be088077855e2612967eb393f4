I"‡<p>Dictionaries are one of the most commonly used data structures. Dictionaries come with keys and values where the keys are unique. Sometimes, there might be a situation where we would want to swap the keys and values of a dictionary. Letâ€™s see how to swap keys and values of a dictionary in swift.</p>

<p>While doing so, we need to make sure that the values which are converted to keys are hashable and unique, else the conversion will fail.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">extension</span> <span class="kt">Dictionary</span> <span class="k">where</span> <span class="kt">Value</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="p">{</span>
    <span class="kd">struct</span> <span class="kt">DuplicateValuesError</span><span class="p">:</span> <span class="kt">Error</span> <span class="p">{</span> <span class="p">}</span>
    <span class="nf">init</span><span class="p">?(</span><span class="n">swappingKeysAndValues</span> <span class="nv">dict</span><span class="p">:</span> <span class="p">[</span><span class="kt">Value</span><span class="p">:</span>  <span class="kt">Key</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">do</span> <span class="p">{</span>
            <span class="k">try</span> <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">dict</span><span class="o">.</span><span class="kd">lazy</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="p">(</span><span class="nv">$0</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nv">$0</span><span class="o">.</span><span class="n">key</span><span class="p">)</span> <span class="p">},</span>
                          <span class="nv">uniquingKeysWith</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="k">in</span> <span class="k">throw</span> <span class="kt">DuplicateValuesError</span><span class="p">()</span> <span class="p">})</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">nil</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">dict</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">:</span> <span class="s">"A"</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s">"B"</span><span class="p">,</span> <span class="mi">3</span> <span class="p">:</span> <span class="s">"C"</span><span class="p">,</span> <span class="mi">4</span> <span class="p">:</span> <span class="s">"D"</span><span class="p">,</span> <span class="mi">5</span> <span class="p">:</span> <span class="s">"E"</span><span class="p">]</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">swappedDict</span> <span class="o">=</span> <span class="kt">Dictionary</span><span class="p">(</span><span class="nv">swappingKeysAndValues</span><span class="p">:</span> <span class="n">dict</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">swappedDict</span><span class="p">)</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Unable to swap keys and values"</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kt">Result</span><span class="p">:</span>
<span class="p">[</span><span class="s">"A"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"D"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">"C"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">"E"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">"B"</span><span class="p">:</span> <span class="mi">2</span><span class="p">]</span></code></pre></figure>

<p>The given code tries to swap keys and values of the given dictionary, and in case something goes wrong, it fails gracefully.</p>

<p>Do you know a better approach than the one mentioned in this article? Let me know in the comments.</p>

<h3 id="credits-and-references">Credits and References</h3>

<p>[1] <a href="https://stackoverflow.com/a/50008875">https://stackoverflow.com/a/50008875</a></p>

<p>[2] <a href="https://cocoacasts.com/what-is-a-lazymapcollection-in-swift">https://cocoacasts.com/what-is-a-lazymapcollection-in-swift</a></p>

<h3 id="about-the-author">About the author</h3>

<ul>
  <li><strong>Rizwan Ahmed</strong> - iOS Engineer.  Twitter - <a href="https://twitter.com/rizwanasifahmed">https://twitter.com/rizwanasifahmed</a></li>
</ul>

<h4 id="more-articles">More articles</h4>

<ul>
  <li><a href="/blog/2020/11/02/closure-based-actions-in-uibutton/">Closure based actions in UIButton</a></li>
  <li><a href="/blog/2020/08/29/replacing-uiimagepickercontroller-with-phpickerviewcontroller/">Replacing UIImagePickerController with PHPickerViewController</a></li>
  <li><a href="/blog/2020/06/14/embracing-localization-in-image-assets/">Embracing Localization in Image Assets</a></li>
  <li><a href="/blog/2020/05/19/an-effective-way-to-clear-entire-userdefaults-in-swift/">An effective way to clear entire Userdefaults in Swift</a></li>
  <li><a href="/blog/2020/02/13/simulating-remote-push-notifications-in-a-simulator/">Simulating remote push notifications in a simulator</a></li>
</ul>

<div>
    <a class="notification sponsor" href="https://winya.link/get" target="_blank">
    <img src="https://ik.imagekit.io/cfsimagecdn/Winya/winya_512_qKON5oTjw.png" />
    <div>
    <p class="sponsor-title">
        Winya: Best screen sharing app for iPhone/iPad
    </p>
    <p>
        Become a Streamer by starting a live stream from your iPhone/iPad to Twitch/YouTube or any live streaming service of your choice. Download the app and become a creator now!</p>
    </div>
</a>
</div>
:ET